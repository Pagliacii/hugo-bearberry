(function(){"use strict";document.addEventListener("click",function(e){const t=e.target.closest(".chat-bubble--foldable");if(t){e.preventDefault(),t.classList.toggle("expanded");const n=t.querySelector(".chat-bubble__indicator .dots");n&&(t.classList.contains("expanded")?n.style.transform="rotate(225deg)":n.style.transform="rotate(45deg)")}});function e(){const e=document.querySelectorAll(".chat-bubble--foldable");e.forEach(e=>{const t=e.querySelector(".chat-bubble__indicator .dots");t&&!e.classList.contains("expanded")&&(t.style.transform="rotate(45deg)")})}function n(t=3,s=100){t>0&&setTimeout(()=>{e();const o=document.querySelectorAll(".chat-bubble--foldable"),i=Array.from(o).some(e=>{const t=e.querySelector(".chat-bubble__indicator .dots");return t&&!t.style.transform});i&&n(t-1,s*1.5)},s)}function s(){const t=new MutationObserver(function(t){let n=!1;t.forEach(function(e){e.addedNodes.forEach(function(e){e.nodeType===1&&(e.classList&&e.classList.contains("chat-bubble--foldable")&&(n=!0),e.querySelector&&e.querySelector(".chat-bubble--foldable")&&(n=!0))})}),n&&setTimeout(e,50)});return t.observe(document.body,{childList:!0,subtree:!0}),t}function t(){e(),n(3,100),s()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):document.readyState==="interactive"?setTimeout(t,50):t(),window.addEventListener("load",function(){setTimeout(e,200)})})()